@use '../../compiled/tokens/scss/color';
@use '../../compiled/tokens/scss/font-family';
@use '../../compiled/tokens/scss/font-weight';
@use '../../compiled/tokens/scss/line-height';
@use '../../compiled/tokens/scss/opacity';
@use '../../compiled/tokens/scss/size';
@use '../../mixins/a11y';
@use '../../mixins/ms';
@use 'sass:color' as sasscolor;

/// Cloud Four theme for Prism syntax highlighting.
///
/// @link https://highlightjs.readthedocs.io/en/latest/theme-guide.html

.hljs,
.hljs-subst {
  color: color.$text-light;
}

.hljs-comment,
.hljs-quote,
.hljs-punctuation {
  color: sasscolor.change(color.$text-light, $alpha: (opacity.$muted * 0.85));
}

.hljs-name,
.hljs-built_in,
.hljs-title,
.language-scss .hljs-variable {
  color: color.$base-fuchsia-lighter;
}

.hljs-keyword,
.hljs-meta,
.hljs-section {
  color: color.$base-purple-lighter;
}

.hljs-attr,
.hljs-params,
.hljs-property,
.hljs-selector-class,
.hljs-template-variable {
  color: color.$base-orange-lighter;
}

.hljs-literal,
.hljs-selector-tag,
.hljs-symbol,
.hljs-type {
  color: sasscolor.change(
    sasscolor.mix(color.$base-fuchsia-lighter, color.$base-orange-light),
    $saturation: sasscolor.saturation(color.$base-fuchsia-lighter)
  );
}

.hljs-meta,
.hljs-number,
.hljs-selector-attr,
.hljs-selector-pseudo {
  color: sasscolor.change(
    sasscolor.mix(color.$base-green-lighter, color.$base-blue-lighter),
    $saturation: sasscolor.saturation(color.$base-green-lighter)
  );
}

.hljs-string {
  color: color.$base-green-lighter;
}

.hljs-attribute,
.hljs-regexp,
.hljs-template-tag,
.hljs-variable {
  color: color.$base-blue-lighter;
}

.hljs-selector-id,
.hljs-title.class_ {
  color: sasscolor.adjust(
    sasscolor.mix(color.$base-orange-lighter, color.$base-green-lighter),
    $saturation: +10%
  );
}

/// Syntax-Highlighted Code Block Plugin Customizations

// [aria-describedby*="shcb-language-"] {
//   display: flex;
//   flex-direction: column;
// }

// .shcb-language {
//   font-family: font-family.$sans;
//   font-weight: font-weight.$semibold;
//   margin-top: ms.step(-3) * -1;
//   order: -1;
//   text-align: right;
//   white-space: nowrap;
// }

// .shcb-language__label,
// .shcb-language__paren,
// .shcb-language__slug {
//   @include a11y.sr-only();
// }

// ---

// [aria-describedby*="shcb-language-"] {
//   position: relative;
// }

// .shcb-language {
//   align-items: center;
//   // background: color.$base-blue-dark;
//   border: size.$edge-small solid rgba(255,255,255,0.2);
//   border-right-width: 0;
//   border-top-width: 0;
//   border-bottom-left-radius: size.$border-radius-medium;
//   // border-bottom-right-radius: size.$border-radius-medium;
//   display: flex;
//   font-family: font-family.$sans;
//   font-weight: font-weight.$semibold;
//   justify-content: center;
//   height: ms.step(3, 1em);
//   line-height: line-height.$tighter;
//   padding: 0 ms.step(-1);
//   position: absolute;
//   right: 0;
//   top: 0;
//   white-space: nowrap;
// }

// .shcb-language__label,
// .shcb-language__paren,
// .shcb-language__slug {
//   @include a11y.sr-only();
// }

// ---

[aria-describedby*="shcb-language-"] {
  position: relative;
}

.shcb-language {
  align-items: center;
  background: color.$base-blue-dark;
  border-bottom-left-radius: size.$border-radius-medium;
  color: color.$base-blue-lighter;
  display: flex;
  font-family: font-family.$sans;
  font-weight: font-weight.$semibold;
  height: ms.step(3);
  line-height: line-height.$tighter;
  padding: 0 ms.step(-1);
  position: absolute;
  top: 0;
  right: 0;
  user-select: none;
  white-space: nowrap;
}

.shcb-language__label {
  @include a11y.sr-only();
}
