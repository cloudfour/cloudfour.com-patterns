import { Story, Preview, Meta } from '@storybook/addon-docs/blocks';

<Meta title="Third-Party/Gutenberg" />

# WordPress Gutenberg Blocks

The Wordpress Gutenberg editor is a block-based page builder. The editor comes with
a variety of core blocks. Of those, a subset automatically generate markup with one
or more `wp-block-`-prefixed classes. These are the blocks documented below.

Each block has controls that can modify the generated output. Where relevant, the
additional markup and/or classes that may be generated are also documented.

## Quote

The quote block has a base class of `wp-block-quote`. It has a control to add an
optional `is-style-large` class.

<Preview>
  <Story name="core/quote" height="100px">
    {`<blockquote class="wp-block-quote is-style-large">
      <p>In quoting others, we cite ourselves.</p><cite>Julio Cortázar</cite>
    </blockquote>`}
  </Story>
</Preview>

## Image

The image block is wrapped in a `figure` element with the `wp-block-image` class.

Inputs are available to set `alt` text, `width`, and `height` attributes.

Controls set either the `is-style-default` (no masking) or `is-style-circle-mask`
class on the wrapper element. One of these classes is always present.

Additional controls can add wrapper classes based on generated `srcset` options:
`size-full`, `size-large`, `size-medium`, or `size-thumbnail`. Further resizing
adds the `is-resized` class to the wrapper.

Adding caption text to the image generates a `figcaption` element before the closing
wrapper tag.

<Preview>
  <Story name="core/image" height="500px">
    {`<figure class="wp-block-image size-large is-style-default">
        <img
          src="https://s.w.org/images/core/5.3/MtBlanc1.jpg"
          alt="Mont Blanc"
          class="wp-image-130"
          srcset="
            https://s.w.org/images/core/5.3/MtBlanc1.jpg         500w,
            https://s.w.org/images/core/5.3/MtBlanc1-300x225.jpg 300w
          "
          sizes="(max-width: 500px) 100vw, 500px"
        />
        <figcaption>Mont Blanc appears—still, snowy, and serene.</figcaption>
      </figure>`}
  </Story>
</Preview>

## Gallery (images)

The gallery block is wrapped in a `figure` element with the `wp-block-gallery` class.

In the block's settings, the user can choose a number of columns, which adds a `columns-x` class.

The gallery itself is a `ul` element with the class `blocks-gallery-grid` and each
item has a class of `blocks-gallery-item`

A single control sets whether image thumbnails within the gallery are cropped to align
within the grid, adding an `is-cropped` class to the wrapper element

Controls can update items to link to either either their source or their
attachment page. Either selection wraps the media element in an `a` tag. By default,
items are not wrapped in links.

Adding a caption creates a `figcaption` element before the closing wrapper tag.

<Preview>
  <Story name="core/gallery" height="500px">
    {`<figure class="wp-block-gallery columns-2 is-cropped">
      <ul class="blocks-gallery-grid">
        <li class="blocks-gallery-item">
          <figure>
            <a href="https://s.w.org/images/core/5.3/Glacial_lakes%2C_Bhutan.jpg">
              <img src="https://s.w.org/images/core/5.3/Glacial_lakes%2C_Bhutan.jpg" />
            </a>
          </figure>
        </li>
        <li class="blocks-gallery-item">
          <figure>
            <a href="https://wp-themes.com/twentytwenty/?page_id=2">
              <img src="https://s.w.org/images/core/5.3/Sediment_off_the_Yucatan_Peninsula.jpg" />
            </a>
          </figure>
        </li>
        <li class="blocks-gallery-item">
          <figure>
            <img src="https://s.w.org/images/core/5.3/Biologia_Centrali-Americana_-_Cantorchilus_semibadius_1902.jpg" />
          </figure>
        </li>
        <li class="blocks-gallery-item">
          <figure>
            <img src="https://s.w.org/images/core/5.3/Windbuchencom.jpg" />
          </figure>
        </li>
      </ul>
      <figcaption class="blocks-gallery-caption">A gallery caption</figcaption>
    </figure>`}
  </Story>
</Preview>

## Button

The button block creates one or more `div`s with class `wp-block-button`, each containing
an `a` element with a class of `wp-block-button__link`.

An additional container holds each button block (one or more buttons), and has
a class of `wp-block-buttons`.

If chosen, a button can have only an outline (no fill color), which adds the `is-style-outline`
class on the `.wp-block-button` element.

Controls allow each button to have custom text color, background color or gradient, and border
radius. These are all set as inline styles, but additional classes are also added
to the link, e.g., `has-text-color` and `has-background`.

The button link may or may not have an `href` URL, and the user can also control the
`rel` and `target` attributes.

<Preview>
  <Story name="core/button" height="100px">
    {`<div class="wp-block-buttons">
        <div class="wp-block-button">
          <a class="wp-block-button__link" href="https://wp-themes.com/twentytwenty/" style="border-radius:50px" target="_blank" rel="noopener noreferrer">
            Button
          </a>
        </div>
    </div>`}
  </Story>
</Preview>



