import { Story, Canvas, Meta } from '@storybook/addon-docs';
import template from './author.twig';
import gerardoImage from './demo/gerardo.png';
import tylerImage from './demo/tyler.png';
import meganImage from './demo/megan.png';
const allAuthors = [
  {
    name: 'Megan Notarte',
    avatar: meganImage,
    link: 'https://cloudfour.com/is/megnotarte',
    job_title: 'Partner, Vice President',
  },
  {
    name: 'Tyler Sticka',
    avatar: tylerImage,
    link: 'https://cloudfour.com/is/tyler',
    job_title: 'Partner, Vice President',
  },
  {
    name: 'Gerardo Rodriguez',
    avatar: gerardoImage,
    link: 'https://cloudfour.com/is/gerardo',
    job_title: 'Senior Front-end Developer',
  },
];
const authors = (count) => allAuthors.slice(0, count);

<Meta
  title="Components/Author"
  argTypes={{
    count: {
      type: 'number',
      defaultValue: 1,
      description: 'Number of authors to show',
      control: {
        type: 'range',
        min: 1,
        max: allAuthors.length,
        step: 1,
      },
    },
  }}
/>

# Author

Displays an author, or set of authors, for article or presentation bylines.

## Single Author

A single author displays either the `date` or author `job_title`.

### With `date` defined

If the `date` is defined, it will take precedence and render.

<Canvas>
  <Story name="With date" args={{ count: 1 }}>
    {(args) =>
      template({
        authors: authors(args.count),
        date: new Date('March 31, 2021'),
      })
    }
  </Story>
</Canvas>

### Without `date` defined

If the `date` is _not_ defined, the author `job_title` is rendered.

<Canvas>
  <Story name="Without date" args={{ count: 1 }}>
    {(args) =>
      template({
        authors: authors(args.count),
      })
    }
  </Story>
</Canvas>

## Multiple Authors

Multiple authors can be displayed as well. The authors' `job_title` values are not rendered when multiple authors are provided to this component.

### With `date` defined

If the `date` is defined, it will render.

<Canvas>
  <Story name="Two Speakers" args={{ count: 2 }}>
    {(args) =>
      template({
        authors: authors(args.count),
        date: new Date('March 31, 2021'),
      })
    }
  </Story>
</Canvas>

### Without `date` defined

If the `date` is _not_ defined, no additional information is rendered.

<Canvas>
  <Story name="Three Speakers" args={{ count: 3 }}>
    {(args) =>
      template({
        authors: authors(args.count),
      })
    }
  </Story>
</Canvas>

## Template Properties

`class` (string): CSS class(es) to append to the root element

`authors` (array): Array of [author objects](https://timber.github.io/docs/reference/timber-user/#properties) of the type:

```ts
 {
   name: string | () => string;
   avatar: string | () => string;
   link: string | () => string;
   job_title: string | () => string;
 }
```

`date` (optional): A date object representing the publication date
