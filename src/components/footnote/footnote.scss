@use '../../compiled/tokens/scss/color';
@use '../../compiled/tokens/scss/ease';
@use '../../compiled/tokens/scss/size';
@use '../../compiled/tokens/scss/scale';
@use '../../compiled/tokens/scss/transition';
@use '../../mixins/focus';
@use '../../mixins/ms';

$footnote-offset: ms.step(-2);
$footnote-offset-negative: calc(#{$footnote-offset} * -1);
$footnote-offset-left-negative: calc(
  #{$footnote-offset-negative} + #{ms.step(1)} * -1
);

.c-footnote {
  position: relative;
  scroll-margin: $footnote-offset;

  &:target::before {
    background-color: color.$base-gray-lighter;
    border-radius: size.$border-radius-medium;
    bottom: $footnote-offset-negative;
    content: '';
    left: $footnote-offset-left-negative;
    position: absolute;
    right: $footnote-offset-negative;
    top: $footnote-offset-negative;
    z-index: -1;
  }

  .c-footnote-link-item__return-link {
    border-radius: size.$border-radius-full;
    display: inline-block;
    padding: 0 ms.step(-6);
    transition: transform transition.$quick ease.$out;

    @include focus.focus-visible {
      box-shadow: 0 0 0 size.$edge-medium color.$brand-primary-lighter;
    }

    &:active {
      transform: scale(scale.$effect-shrink);
    }
  }
}
