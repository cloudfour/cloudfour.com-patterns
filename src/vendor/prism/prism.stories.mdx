import { Meta, Story } from '@storybook/addon-docs';
import { filePathToName } from '../../file-path-to-name.js'
import sampleDemo from './demo/sample.twig';
import './config.js';
const samplesDir = import.meta.glob(
  './demo/samples/*',
  { eager: true, as: 'raw' }
);
const samples = {};
// For each sample, fetch its content and build an object for our template
for (const [filename, content] of Object.entries(samplesDir)) {
  const name = filePathToName(filename);
  const ext = /\.([^.]*)$/.exec(filename)?.[1]
  samples[name] = { filename, name, ext, content };
}
const renderSample = (sample) => {
  const el = sampleDemo(
    sample,
    () => Prism.highlightAllUnder(el)
  )
  return el
}

<Meta
  title="Vendor/Prism"
/>

# Prism

Our CSS includes a custom [Prism](https://prismjs.com/index.html) theme to support syntax highlighting for code samples.

## Supported Languages

<Story name="Bash, Shell">{renderSample(samples.bash)}</Story>

<Story name="CSS">{renderSample(samples.css)}</Story>

<Story name="Handlebars">{renderSample(samples.handlebars)}</Story>

<Story name="JavaScript">{renderSample(samples.js)}</Story>

<Story name="JSON">{renderSample(samples.json)}</Story>

<Story name="Liquid">{renderSample(samples.liquid)}</Story>

<Story name="Markup, HTML">{renderSample(samples.markup)}</Story>

<Story name="PHP">{renderSample(samples.php)}</Story>

<Story name="React JSX">{renderSample(samples.jsx)}</Story>

<Story name="React TSX">{renderSample(samples.tsx)}</Story>

<Story name="Sass (SCSS)">{renderSample(samples.scss)}</Story>

<Story name="TOML">{renderSample(samples.toml)}</Story>

<Story name="Twig">{renderSample(samples.twig)}</Story>

<Story name="TypeScript">{renderSample(samples.typescript)}</Story>

<Story name="YAML">{renderSample(samples.yaml)}</Story>
