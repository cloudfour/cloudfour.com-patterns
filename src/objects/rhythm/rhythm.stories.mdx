import { Story, Canvas, Meta } from '@storybook/addon-docs';
// The '!!raw-loader!' syntax is a non-standard, Webpack-specific, syntax.
// See: https://github.com/webpack-contrib/raw-loader#examples
// For now, it seems likely Storybook is pretty tied to Webpack, therefore, we
// are okay with the following Webpack-specific raw loader syntax. It's better
// to leave the ESLint rule enabled globally, and only thoughtfully disable as
// needed (e.g. within a Storybook docs page and not within an actual
// component). This can be revisited in the future if Storybook no longer relies
// on Webpack.
// eslint-disable-next-line @cloudfour/import/no-webpack-loader-syntax
import articleDemoSource from '!!raw-loader!./demo/article.twig';
import articleDemo from './demo/article.twig';
// eslint-disable-next-line @cloudfour/import/no-webpack-loader-syntax
import listDemoSource from '!!raw-loader!./demo/list.twig';
import listDemo from './demo/list.twig';
// eslint-disable-next-line @cloudfour/import/no-webpack-loader-syntax
import introDemoSource from '!!raw-loader!./demo/intro.twig';
import introDemo from './demo/intro.twig';
// eslint-disable-next-line @cloudfour/import/no-webpack-loader-syntax
import paragraphsDemoSource from '!!raw-loader!./demo/paragraphs.twig';
import paragraphsDemo from './demo/paragraphs.twig';
// eslint-disable-next-line @cloudfour/import/no-webpack-loader-syntax
import sectionsDemoSource from '!!raw-loader!./demo/sections.twig';
import sectionsDemo from './demo/sections.twig';
// eslint-disable-next-line @cloudfour/import/no-webpack-loader-syntax
import summaryDemoSource from '!!raw-loader!./demo/summary.twig';
import summaryDemo from './demo/summary.twig';

<Meta title="Objects/Rhythm" />

# Rhythm

The `o-rhythm` class applies [consistent vertical spacing between child elements](https://alistapart.com/article/axiomatic-css-and-lobotomized-owls/).

The default spacing works great for medium-to-long text content:

<Canvas>
  <Story
    name="Default"
    parameters={{ docs: { source: { code: introDemoSource } } }}
  >
    {introDemo}
  </Story>
</Canvas>

## Modifiers

For shorter summary content, use the `o-rhythm--condensed` modifier to tighten things up a bit:

<Canvas>
  <Story
    name="Condensed"
    parameters={{ docs: { source: { code: summaryDemoSource } } }}
  >
    {summaryDemo}
  </Story>
</Canvas>

`o-rhythm--compact` is best for shorter content chunks that just need a _pinch_ more space:

<Canvas>
  <Story
    name="Compact"
    parameters={{ docs: { source: { code: listDemoSource } } }}
  >
    {listDemo}
  </Story>
</Canvas>

While `o-rhythm--generous` is intended for separating distinct content chunks with more whitespace:

<Canvas>
  <Story
    name="Generous"
    parameters={{ docs: { source: { code: paragraphsDemoSource } } }}
  >
    {paragraphsDemo}
  </Story>
</Canvas>

And finally, `o-rhythm--lavish` can separate entire sections from each other. It uses the same fluid padding values as [the container object](/?path=/docs/objects-container--basic):

<Canvas>
  <Story
    name="Lavish"
    parameters={{
      layout: 'fullscreen',
      docs: { source: { code: sectionsDemoSource } },
    }}
  >
    {sectionsDemo}
  </Story>
</Canvas>

To revert to the default spacing in nested rhythm objects, use the `o-rhythm--default` modifier.

## Heading Modifiers

The `o-rhythm--generous-headings` modifier helps differentiate sections of articles (or similarly long prose content) by adding more whitespace before headings (or elements with a class name containing `heading`, such as [our heading component](/docs/components-heading--levels#heading)).

<!--
This example isn't inlined so any media queries affecting the container will
behave as expected.
-->

<Canvas>
  <Story
    name="Generous Headings"
    inline={false}
    parameters={{ docs: { source: { code: articleDemoSource } } }}
  >
    {articleDemo}
  </Story>
</Canvas>

## Inheriting Rhythm

The vertical spacing applied by the Rhythm object only applies to direct children. In some cases, you may want elements below to inherit rhythm. This can be accomplished in two main ways.

### Via HTML

If you have access to the markup, you can add the `o-rhythm` class to the child element:

```html
<div class="o-rhythm o-rhythm--condensed">
  <!-- ... -->
  <div class="o-rhythm">
    <!-- will also be condensed -->
  </div>
  <div class="o-rhythm o-rhythm--default">
    <!-- will not be condensed -->
  </div>
  <!-- ... -->
</div>
```

### Via Sass

Our project includes a `spacing.vertical-rhythm` mixin that will apply the basic object rules to any selector:

```scss
@use 'path/to/mixins/spacing';

.unchangeable-vendor-selector {
  @include spacing.vertical-rhythm();
}
```

## Custom Properties

- `--rhythm`: Amount of vertical space between adjacent elements. Defaults to our `$rhythm-default` [size token](/docs/design-tokens-size--page#rhythm).
- `--rhythm-headings`: Extra space to precede headings that follow another element. Defaults to the value of `--rhythm`.
