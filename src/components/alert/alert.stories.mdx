import { Canvas, Meta, Story } from '@storybook/addon-docs';
import template from './alert.twig';

<Meta
  title="Components/Alert"
  argTypes={{
    message: { type: { name: 'string' } },
    dismissable: { type: { name: 'boolean' } },
  }}
/>

# Alert

A simple container for displaying important messages to the user such as errors, changes in state or confirmation of actions taken.

## Status

This component is still a work in progress. The following features are not yet implemented:

- The dismissal control does not actually dismiss the alert.

## Basic usage

<Canvas>
  <Story
    name="Basic"
    args={{ message: 'Your comment is awaiting moderation.' }}
  >
    {(args) => template(args)}
  </Story>
</Canvas>

## Dismissable

When `dismissable` is `true`, a close button will display to the right of the message.

<Canvas>
  <Story
    name="Dismissable"
    args={{
      message: 'Your action was completed successfully! ðŸŽ‰',
      dismissable: true,
    }}
  >
    {(args) => template(args)}
  </Story>
</Canvas>

## Full width

Alerts work well even when displayed at full width. Their contents will constrain to the `max-width` of [our `size.$max-width-spread` token](/docs/design-tokens-layout--page), and rounded corners will disappear when full-width.

<Canvas>
  <Story
    name="Full width"
    parameters={{
      layout: 'fullscreen',
    }}
    args={{
      message: 'You appear to be offline. ðŸ¤”',
      dismissable: true,
    }}
  >
    {(args) => template(args)}
  </Story>
</Canvas>

## Icon

An option to add an icon to the alert. You can add any icon name from our library in the `icon` property. Right now, the color is hardcoded to orange to satisfy the current use case of our offline notification, but it would be nice to add more color options in the future.

<Canvas>
  <Story
    name="Icon"
    args={{
      message: 'Your action was completed successfully! ðŸŽ‰',
      icon: 'check',
    }}
  >
    {(args) => template(args)}
  </Story>
</Canvas>

## Error

The class `c-alert__error` will override the orange default color and make the icon and background red.

<Canvas>
  <Story
    name="Error"
    args={{
      message: 'Oops! Something went wrong.',
      dismissable: true,
      class: 'c-alert--error',
      icon: 'confused-face',
    }}
  >
    {(args) => template(args)}
  </Story>
</Canvas>

## Floating

By adding `floating: true`, a light border and shadow will be added to the alert for a floating effect. The background is white to improve the contrast between the border, shadow and background. In the future, we could make it a possibility to change the background color by itself.

<Canvas>
  <Story
    name="Floating"
    args={{
      message: 'You appear to be offline. ðŸ¤”',
      dismissable: true,
      floating: true,
      icon: 'bell',
    }}
  >
    {(args) => template(args)}
  </Story>
</Canvas>

When more contrast is desired, you may also attach a theme class to the the floating variation. In this example, the card has a class of `t-light` within a `t-dark` container:

<Canvas>
  <Story
    name="Themed Floating"
    parameters={{
      theme: 't-dark',
    }}
    args={{
      message: 'You appear to be offline. ðŸ¤”',
      dismissable: true,
      floating: true,
      icon: 'bell',
      class: 't-light',
    }}
  >
    {(args) => template(args)}
  </Story>
</Canvas>

## Template Properties

- `class` (string)
- `icon` (string)
- `dismissable` (boolean, default `false`)
- `floating` (boolean, default `false`)
- `message` (string, default `'Hello world!'`)
- `tag_name` (string, default `'div'`)

## Template Blocks

- `content`
