import { ArgsTable, Canvas, Meta, Story } from '@storybook/addon-docs';
import template from './alert.twig';

<Meta
  title="Components/Alert"
  argTypes={{
    class: {
      type: 'string',
      description: 'CSS class(es) to append to the root element.',
    },
    message: {
      type: 'string',
      description: 'The message within the alert.',
      table: {
        defaultValue: { summary: 'Hello world!!!' },
      },
    },
    dismissable: {
      type: 'boolean',
      description: 'Adds a close button to the right of the message.',
      table: {
        defaultValue: { summary: false },
      },
    },
    icon: {
      options: [
        '',
        'bell',
        'check',
        'cloud-slash',
        'brands/github',
        'brands/twitter',
      ],
      type: 'string',
      description:
        'An option to add one of our [icons](/?path=/docs/design-icons--page).',
      control: {
        type: 'select',
      },
    },
    floating: {
      type: 'boolean',
      description: 'Adds a light border and shadow for a floating effect.',
      table: {
        defaultValue: { summary: false },
      },
    },
    tag_name: {
      type: 'string',
      description: 'The root element',
      table: {
        defaultValue: { summary: 'div' },
      },
    },
    id: {
      type: 'string',
      description: 'Adds an `id` attribute to the root element',
    },
    hidden: {
      type: 'boolean',
      description: 'Adds a `hidden` attribute to the root element.',
      table: {
        defaultValue: { summary: false },
      },
    },
  }}
/>

# Alert

A simple container for displaying important messages to the user such as errors, changes in state or confirmation of actions taken.

## Status

This component is still a work in progress. The following features are not yet implemented:

- The dismissal control does not actually dismiss the alert.

## Basic usage

<Canvas>
  <Story
    name="Basic"
    args={{ message: 'Your comment is awaiting moderation.' }}
  >
    {(args) => template(args)}
  </Story>
</Canvas>

<ArgsTable story="Basic" />

## Dismissable

When `dismissable` is `true`, a close button will display to the right of the message.

<Canvas>
  <Story
    name="Dismissable"
    args={{
      message: 'Your action was completed successfully! ðŸŽ‰',
      dismissable: true,
    }}
  >
    {(args) => template(args)}
  </Story>
</Canvas>

<ArgsTable story="Dismissable" />

## Full width

Alerts work well even when displayed at full width. Their contents will constrain to the `max-width` of [our `size.$max-width-spread` token](/docs/design-tokens-layout--page), and rounded corners will disappear when full-width.

<Canvas>
  <Story
    name="Full width"
    parameters={{
      layout: 'fullscreen',
    }}
    args={{
      message: 'You appear to be offline. ðŸ¤”',
      dismissable: true,
    }}
  >
    {(args) => template(args)}
  </Story>
</Canvas>

<ArgsTable story="Full width" />

## Icon

An option to add an icon to the alert. You can add any icon name from our library in the `icon` property. Right now, the color is hardcoded to orange to satisfy the current use case of our offline notification, but it would be nice to add more color options in the future.

<Canvas>
  <Story
    name="Icon"
    args={{
      message: 'Your action was completed successfully! ðŸŽ‰',
      icon: 'check',
    }}
  >
    {(args) => template(args)}
  </Story>
</Canvas>

<ArgsTable story="Icon" />

## Floating

By adding `floating: true`, a light border and shadow will be added to the alert for a floating effect. The background is white to improve the contrast between the border, shadow and background. In the future, we could make it a possibility to change the background color by itself.

<Canvas>
  <Story
    name="Floating"
    args={{
      message: 'You appear to be offline. ðŸ¤”',
      dismissable: true,
      floating: true,
      icon: 'bell',
    }}
  >
    {(args) => template(args)}
  </Story>
</Canvas>

<ArgsTable story="Floating" />

When more contrast is desired, you may also attach a theme class to the the floating variation. In this example, the card has a class of `t-light` within a `t-dark` container:

<Canvas>
  <Story
    name="Themed Floating"
    parameters={{
      theme: 't-dark',
    }}
    args={{
      message: 'You appear to be offline. ðŸ¤”',
      dismissable: true,
      floating: true,
      icon: 'bell',
      class: 't-light',
    }}
  >
    {(args) => template(args)}
  </Story>
</Canvas>

<ArgsTable story="Themed Floating" />

## Template Blocks

- `content`
