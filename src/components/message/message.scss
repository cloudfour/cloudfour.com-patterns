@use "../../design-tokens/colors.yml";
@use "../../mixins/focus";
@use "../../design-tokens/motion.yml";
@use "../../design-tokens/sizes.yml";
@use "../../mixins/ms";

/**
 * 1. Push message and close button as far apart as possible.
 * 2. When text breaks onto multiple lines our default line-height visually
 *    competes with this element's padding, so we condense it a little.
 */

.c-message {
  background-color: colors.$gray-lighter;
  color: colors.$text-dark;
  display: flex; /* 1 */
  justify-content: space-between; /* 1 */
  line-height: ms.step(1, 1); /* 2 */
}

.c-message__content {
  padding: ms.step(1);
}

/**
 * 1. To ensure desired appearance, the button background-color should inherit
 *    the same color as its parent.
 * 2. To ensure desired appearance, the close icon should be the same color as
 *    the parent text color.
 * 3. To add a little visual emphasis, make icon a little larger than the
 *    parent text size.
 * 4. To prevent the message text from colliding with to the close button,
 *    we add some space between the message and the button.
 */

.c-message__close {
  align-items: center;
  background-color: inherit; /* 1 */
  border-radius: sizes.$radius-medium;
  border-width: 0;
  color: inherit; /* 2 */
  cursor: pointer;
  display: flex;
  font-size: ms.step(1); /* 3 */
  margin-left: ms.step(1); /* 4 */
  padding: 0 ms.step(1);

  @include focus.focus-visible {
    box-shadow: 0 0 0 sizes.$edge-large colors.$primary-brand-lighter;
  }
}

.c-message__close-icon {
  transition-duration: motion.$speed-quick;
  transition-property: transform;
  transition-timing-function: motion.$ease-out;
}

.c-message__close:hover .c-message__close-icon {
  transform: scale(1.1);
}
