import { Story, Canvas, Meta } from '@storybook/addon-docs/blocks';
import singleDemo from './demo/single.twig';
const singleDemoStory = (args) => {
  const props = {
    href: args.href,
  };
  const modifiers = [];
  if (args.show.length > 0) {
    args.show.forEach((block) => {
      props[`show_${block}`] = true;
    });
  }
  if (args.horizontal !== 'none') {
    modifiers.push(`horizontal${args.horizontal}`);
  }
  if (modifiers.length) {
    props.class = modifiers.map((modifier) => `c-card--${modifier}`).join(' ');
  }
  return singleDemo(props);
};

<Meta
  title="Components/Card"
  argTypes={{
    show: {
      control: {
        type: 'inline-check',
        options: ['heading', 'cover', 'content', 'footer'],
      },
      defaultValue: ['heading', 'cover', 'content', 'footer'],
    },
    href: { type: { name: 'string' } },
    horizontal: {
      type: { name: 'string' },
      control: { type: 'inline-radio', options: ['none', '@m', '@l', '@xl'] },
      defaultValue: 'none',
    },
  }}
/>

# Card

<Canvas>
  <Story
    name="Content Blocks"
    args={{ show: ['heading', 'content', 'footer'] }}
  >
    {singleDemoStory.bind({})}
  </Story>
</Canvas>

<Canvas>
  <Story name="Cover Image">{singleDemoStory.bind({})}</Story>
</Canvas>

<Canvas>
  <Story name="Link" args={{ href: '#' }}>
    {singleDemoStory.bind({})}
  </Story>
</Canvas>

<Canvas>
  <Story name="Horizontal" args={{ href: '#', horizontal: '@m' }}>
    {singleDemoStory.bind({})}
  </Story>
</Canvas>
