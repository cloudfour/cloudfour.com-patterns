import { ArgsTable, Canvas, Meta, Story } from '@storybook/addon-docs';
import { availableSamples, highlightDemo, shcbDemo } from './demo/demo.ts';
const argTypes = {
  language: {
    options: availableSamples,
    type: 'string',
    control: {
      type: 'select',
    },
  },
};

<Meta
  title="Vendor/Highlight"
  parameters={{
    docs: {
      transformSource: (src) => src,
    },
    layout: 'fullscreen',
  }}
  argTypes={argTypes}
/>

# Highlight

Our CSS includes a [Highlight.js](https://highlightjs.org/) theme for syntax highlighting.

For performance, it's strongly recommended to apply syntax highlighting on the server:

- [Highlight.js Basic Usage: Node.js on the Server](https://highlightjs.readthedocs.io/en/latest/readme.html#node-js-on-the-server)
- [highlight.php](https://github.com/scrivo/highlight.php)
- [WordPress Plugins: Syntax-highlighting Code Block](https://wordpress.org/plugins/syntax-highlighting-code-block/)

<Canvas>
  <Story name="Theme" args={{ language: 'html' }}>
    {highlightDemo.bind({})}
  </Story>
</Canvas>

<ArgsTable story="Theme" />

## Syntax-highlighting Code Block

The [Syntax-highlighting Code Block plugin for WordPress](https://wordpress.org/plugins/syntax-highlighting-code-block/) enhances the core code block with [highlight.php](https://github.com/scrivo/highlight.php). It also adds a few additional features, including a code language label for accessibility.

Currently, our theme only supports this code language label (though it hides it visually for simplicity). In the future we may also add support for highlighted lines and line numbers.

<Canvas>
  <Story
    name="SHCB"
    args={{
      language: 'html',
      highlightedLines: '1, 4-6',
      showLineNumbers: true,
      wrapLines: true,
    }}
    argTypes={{
      ...argTypes,
      highlightedLines: { type: 'string' },
      showLineNumbers: { type: 'boolean' },
      wrapLines: { type: 'boolean' },
      className: { type: 'string' },
    }}
  >
    {shcbDemo.bind({})}
  </Story>
</Canvas>

<ArgsTable story="SHCB" />
