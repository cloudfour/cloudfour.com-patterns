<div class="c-author o-media{% if class %} {{ class }}{% endif %}">
  {% embed '@cloudfour/objects/bunch/bunch.twig' with { class: 'o-media__object' } %}
    {% block content %}
      {% for author in authors %}
        {% include '@cloudfour/components/avatar/avatar.twig' with { src: author.avatar } only %}
      {% endfor %}
    {% endblock %}
  {% endembed %}
  <div class="o-media__content">
    <p>
      <span class="u-hidden-visually">By</span>
      {% for author in authors %}
        {% if loop.last and loop.length > 1 %}and {% endif %}
        <a href="{{ author.link }}">{{ author.name }}</a>
        {%- if not loop.last and loop.length > 2 %},{% endif %}
      {% endfor %}
    </p>

    {% if date is defined %}
      <p>
        {# This provides a more pleasant screen reader experience #}
        <span class="u-hidden-visually">
          Published on {{ date|date('F jS, Y') }}
        </span>
        {#
          The <time> element is not well supported by screen readers, therefore,
          it is aria-hidden. On macOS VoiceOver, for example, the date would be
          read twice, which was a confusing experience.

          @see: https://twitter.com/LeonieWatson/status/1333078194925264898

          The `<time>` element was not removed because per MDN Web Docs,
          it allows for better search engine results:

          > The `<time>` HTML element represents a specific period in time.
          It may include the `datetime` attribute to translate dates into
          machine-readable format, allowing for better search engine results or
          custom features such as reminders.

          @see https://developer.mozilla.org/en-US/docs/Web/HTML/Element/time
        #}
        <time aria-hidden="true" datetime="{{ date|date('Y-m-d') }}">
          {{ date|date('F jS, Y') }}
        </time>
      </p>
    {% else %}
      {# The job title should render when there is only one author #}
      {% if authors|length == 1 %}
        {% set author = authors|first %}
        <p class="c-author__title">{{author.job_title}}</p>
      {% endif %}
    {% endif %}
  </div>
</div>
