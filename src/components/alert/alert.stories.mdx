import { Story, Canvas, Meta } from '@storybook/addon-docs/blocks';
import template from './alert.twig';

<Meta
  title="Components/Alert"
  argTypes={{
    message: { type: { name: 'string' } },
    dismissable: { type: { name: 'boolean' } },
    full_width: { type: { name: 'boolean' } },
  }}
/>

# Alert

A simple container for displaying important messages to the user such as errors, changes in state or confirmation of actions taken.

## Status

This component is still a work in progress. The following features are not yet implemented:

- The dismissal control does not actually dismiss the alert.

## Basic usage

<Canvas>
  <Story
    name="Basic"
    args={{ message: 'Your comment is awaiting moderation.' }}
  >
    {(args) => template(args)}
  </Story>
</Canvas>

## Dismissable

When `dismissable` is `true`, a close button will display to the right of the message.

<Canvas>
  <Story
    name="Dismissable"
    args={{
      message: 'Your action was completed successfully! ðŸŽ‰',
      dismissable: true,
    }}
  >
    {(args) => template(args)}
  </Story>
</Canvas>

## Full width

By default, alerts assume they'll display within page content. For alerts meant to fill the full browser width, use the `c-alert--full-width` modifier class or set the `full_width` template property to `true`. This removes the rounded corners (which would awkwardly interact with viewport edges) and constrains the content to the value of [our `size.$max-width-spread` token](/docs/design-tokens-layout--page).

<Canvas>
  <Story
    name="Full width"
    parameters={{
      layout: 'fullscreen',
      paddings: { disable: true },
    }}
    args={{
      message: 'You appear to be offline. ðŸ¤”',
      full_width: true,
      dismissable: true,
    }}
  >
    {(args) => template(args)}
  </Story>
</Canvas>

## Icon

An option to add an icon to the alert. You can add any icon name from our library in the `icon_name` property. Right now, the color is hardcoded to orange, but it would be nice to add more color options in the future.

<Canvas>
  <Story
    name="Icon"
    args={{
      message: 'Your action was completed successfully! ðŸŽ‰',
      icon_name: 'check',
    }}
  >
    {(args) => template(args)}
  </Story>
</Canvas>

## Floating

By adding `floating: true`, a light border and shadow will be added to the alert for a floating effect. The background is white to improve the contrast between the border, shadow and background. In the future, we could make it a possibilty to change the background color by itself.

<Canvas>
  <Story
    name="Floating"
    args={{
      message: 'You appear to be offline. ðŸ¤”',
      dismissable: true,
      floating: true,
      icon_name: 'bell',
    }}
  >
    {(args) => template(args)}
  </Story>
</Canvas>

## Template Properties

- `class` (string)
- `icon_name` (string)
- `dismissable` (boolean, default `false`)
- `full_width` (boolean, default `false`)
- `floating` (boolean, default `false`)
- `message` (string, default `'Hello world!'`)
- `tag_name` (string, default `'div'`)

## Template Blocks

- `content`
